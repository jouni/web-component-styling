<dom-module id="material-input">
  <template>
    <style>
      html {
        --vaadin-input: {
          margin: calc(var(--material__grid-size) * 2) 0 var(--material__grid-size);
          /* Reserve for the underline */
          position: relative;
          padding-bottom: 2px;
          /* Fix Chromeâ€™s dancing labels */
          contain: content;
        }

        --vaadin-input__label: {
          line-height: 1;
          color: var(--material__color__text--secondary);
          font-size: var(--material__font-size);
          transform-origin: 0 50%;
          transform: scale(0.75);
          transition: transform 0.25s;
        }

        --vaadin-input__input-wrapper: {
          background-image: linear-gradient(-180deg, var(--material__color__divider) 1px, transparent 1px),
                            linear-gradient(-180deg, var(--material__color__primary), var(--material__color__primary));
          background-repeat: no-repeat;
          background-position: 50% 100%;
          background-size: 100% 2px, 0% 2px;
          transition: background-size 0.25s;
          min-width: calc(var(--material__grid-size) * 6);
        }

        --vaadin-input__input: {
          background: transparent;
          color: inherit;
          font: inherit;
          border: 0;
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          outline: none;
          height: calc(var(--material__grid-size) * 4);
          margin: var(--material-input__input__margin);
          color: var(--material__color__text--primary);
          font-size: var(--material-input__input__font-size);
        }

        --vaadin-input__input-placeholder: {
          color: inherit;
          opacity: 0.4;
        }

        --vaadin-input--empty__label: {
          transform: scale(1) translateY(calc(var(--material__grid-size) * 2 + 50%));
          color: var(--material__color__text--secondary);
          pointer-events: none;
        }

        --vaadin-input--focused__label: {
          color: var(--material__color__primary);
        }

        --vaadin-input--focused__input-wrapper: {
          background-size: 100% 2px, 100% 2px;
        }

        --vaadin-input--invalid__label: {
          color: red;
        }

        --vaadin-input--invalid__input-wrapper: {
          background-image: linear-gradient(-180deg, red, red);
        }
      }
    </style>
  </template>
</dom-module>
