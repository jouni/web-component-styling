<dom-module id="material-button">
  <template>
    <style>
      html {
        --material-button: {
          border-radius: 2px;
          min-height: 36px;
          min-width: 64px;
          color: var(--material__color__primary);
          text-transform: uppercase;
          font-size: 14px;
          padding: 8px 16px;
          position: relative;
          overflow: hidden;
          transition: background-color: 0.3s;
        };

        --material-button--active: {
          @apply --material-button;
          background-color: rgba(0,0,0,0.05);
        };

        --material-button-pseudo-after: {
          content: "";
          pointer-events: none;
          position: absolute;
          border-radius: 50%;
          width: 100px;
          height: 100px;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: var(--material__color__primary);
          opacity: 0;
          /* Transitions do not work in Safari after page reload. */
          /* If you toggle the rule off and on in the inspector, it starts working */
          transition: all 0.3s;
        };

        --material-button--raised: {
          @apply --material-button;
          background-color: var(--material__color__white);
          box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 0 1px rgba(0,0,0,0.04);
          transition: box-shadow 0.2s;
        };
      }

      vaadin-button {
        --vaadin-button: {
          @apply --material-button;
        };

        --vaadin-button--active: {
          @apply --material-button--active;
        };

        --vaadin-button--disabled: {
          color: rgba(0,0,0,0.4);
        };
      }

      vaadin-button::after {
        @apply --material-button-pseudo-after;
      }

      vaadin-button:active::after {
        @apply --material-button-pseudo-after;
        animation: ripple 0.2s;
      }

      vaadin-button:focus:not(:active)::after {
        @apply --material-button-pseudo-after;
        transform: translate(-50%, -50%) scale(1);
        opacity: 0;
      }

      @keyframes ripple {
        0% {
          transform: translate(-50%, -50%) scale(0);
          opacity: 0.2;
        }
        100% {
          transform: translate(-50%, -50%) scale(1);
          opacity: 0;
        }
      }

      vaadin-button[raised] {
        --vaadin-button: {
          @apply --material-button--raised;
        };
      }

      vaadin-button[raised]:active {
        /*@apply --material-button--raised;*/
        box-shadow: 0 3px 10px 1px rgba(0,0,0,0.13), 0 0 0 1px rgba(0,0,0,0.02);
      }
    </style>
  </template>
</dom-module>
