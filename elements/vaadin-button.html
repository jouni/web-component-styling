<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="vaadin-button">
  <template>
    <style>
      :host {
        font: inherit;
        line-height: 1;
        color: inherit;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        cursor: default;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        @apply(--vaadin-button);
      }

      :host(:focus) {
        outline: 2px solid;
        @apply(--vaadin-button--focus);
      }

      :host(:hover:not(:active)) {
        @apply(--vaadin-button--hover);
      }

      :host(:active) {
        @apply(--vaadin-button--active);
      }

      :host([disabled]) {
        pointer-events: none;
        @apply(--vaadin-button--disabled);
      }

    </style>
    <content></content>
  </template>
  <script>
    Polymer({
      is: 'vaadin-button',

      properties: {
        pointerFocus: {
          value: false,
          reflectToAttribute: true
        }
      },

      hostAttributes: {
        // TODO should set -1 for disabled buttons
        tabindex: 0
      },

      listeners: {
        "mousedown": "_preventDefault",
        "focus": "_focus",
        "blur": "_blur"
      },

      _preventDefault: function(e) {
        if (!this.pointerFocus) {
          e.preventDefault();
        }
      },

      _focus: function(e) {
        this.toggleClass("vaadin-button--focus", true);
      },

      _blur: function(e) {
        this.toggleClass("vaadin-button--focus", false);
      }

    });

  </script>
</dom-module>
