<link rel="import" href="../bower_components/polymer/polymer-element.html">
<!-- <link rel="import" href="../bower_components/polymer/src/styling/custom-style.html"> -->

<dom-module id="vaadin-button">
  <template>
    <style>
      :host {
        /* TODO Do we want to prescribe this much default CSS? */
        position: relative;
        display: inline-flex;
        font: inherit;
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        cursor: default;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      :host([disabled]) {
        pointer-events: none;
      }
    </style>
    <slot></slot>
  </template>

  <script>
    class VaadinButton extends Polymer.Element {
      static get is() {
        return "vaadin-button";
      }

      constructor() {
        super();
        this.setAttribute("role", "button");

        if(!this.hasAttribute("disabled")) {
          this.setAttribute("tabindex", "0");
        }

        this.addEventListener("keyup", function(e) {
          if(e.keyCode == 9) {
            // Tab
            this.setAttribute("keyboard-focus", "");
          }
        }.bind(this));

        this.addEventListener("blur", function(e) {
          this.removeAttribute("keyboard-focus");
        }.bind(this));
      }
    }

    customElements.define(VaadinButton.is, VaadinButton);

  </script>
</dom-module>
